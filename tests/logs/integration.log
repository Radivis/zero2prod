2025-12-10T08:46:33.302268Z  INFO health_check::health_check_works zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T08:46:33.302271Z  INFO subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T08:46:33.302273Z  INFO                subscriptions::subscribe_returns_a_400_when_data_is_missing zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T08:46:33.302477Z  INFO         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T08:46:33.302272Z  INFO                 subscriptions::subscribe_returns_a_200_for_valid_form_data zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T08:46:33.303532Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.303533Z DEBUG                                           health_check::health_check_works sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.303535Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.303536Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.303545Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.383699Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"9fdcf8f8-5e76-490c-bbe8-3b1badee8532\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=54.876299ms elapsed_secs=0.054876299
2025-12-10T08:46:33.383699Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"e8d05c0a-08f5-4310-a472-6c8f3f355964\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=55.374726ms elapsed_secs=0.055374726
2025-12-10T08:46:33.383699Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"555730d6-0278-483a-94e6-18df25da4160\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=50.367827ms elapsed_secs=0.050367827
2025-12-10T08:46:33.383736Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"c4e92c66-e67e-4f2f-91f7-f3c9ee281962\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=49.728966ms elapsed_secs=0.049728966
2025-12-10T08:46:33.383844Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.383844Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.383844Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.383847Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.384097Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"9cf1e959-39de-4c08-b4a4-68044bac53c5\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=52.195645ms elapsed_secs=0.052195645
2025-12-10T08:46:33.384173Z DEBUG                                           health_check::health_check_works sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.408410Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=362.589µs elapsed_secs=0.000362589
2025-12-10T08:46:33.408638Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=175.939µs elapsed_secs=0.000175939
2025-12-10T08:46:33.410311Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=656.707µs elapsed_secs=0.000656707
2025-12-10T08:46:33.410416Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=769.622µs elapsed_secs=0.000769622
2025-12-10T08:46:33.410512Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=437.343µs elapsed_secs=0.000437343
2025-12-10T08:46:33.410884Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=331.098µs elapsed_secs=0.000331098
2025-12-10T08:46:33.410923Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=486.691µs elapsed_secs=0.000486691
2025-12-10T08:46:33.411188Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=710.735µs elapsed_secs=0.000710735
2025-12-10T08:46:33.411544Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=2.875958ms elapsed_secs=0.002875958
2025-12-10T08:46:33.411979Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=321.987µs elapsed_secs=0.000321987
2025-12-10T08:46:33.412184Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=604.624µs elapsed_secs=0.000604624
2025-12-10T08:46:33.412248Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=226.776µs elapsed_secs=0.000226776
2025-12-10T08:46:33.412815Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=586.637µs elapsed_secs=0.000586637
2025-12-10T08:46:33.413720Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=2.807411ms elapsed_secs=0.002807411
2025-12-10T08:46:33.414471Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=702.011µs elapsed_secs=0.000702011
2025-12-10T08:46:33.414602Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=3.332956ms elapsed_secs=0.003332956
2025-12-10T08:46:33.414688Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.563011ms elapsed_secs=0.001563011
2025-12-10T08:46:33.414870Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=332.038µs elapsed_secs=0.000332038
2025-12-10T08:46:33.415040Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=297.796µs elapsed_secs=0.000297796
2025-12-10T08:46:33.415070Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=2.785502ms elapsed_secs=0.002785502
2025-12-10T08:46:33.415527Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=868.406µs elapsed_secs=0.000868406
2025-12-10T08:46:33.415616Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=4.634493ms elapsed_secs=0.004634493
2025-12-10T08:46:33.415648Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=525.516µs elapsed_secs=0.000525516
2025-12-10T08:46:33.415928Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=350.081µs elapsed_secs=0.000350081
2025-12-10T08:46:33.416015Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=331.096µs elapsed_secs=0.000331096
2025-12-10T08:46:33.416115Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.030877ms elapsed_secs=0.001030877
2025-12-10T08:46:33.416189Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.15207ms elapsed_secs=0.00115207
2025-12-10T08:46:33.416317Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=637.812µs elapsed_secs=0.000637812
2025-12-10T08:46:33.416634Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=366.312µs elapsed_secs=0.000366312
2025-12-10T08:46:33.416752Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=367.095µs elapsed_secs=0.000367095
2025-12-10T08:46:33.417311Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.149595ms elapsed_secs=0.001149595
2025-12-10T08:46:33.417351Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.146267ms elapsed_secs=0.001146267
2025-12-10T08:46:33.417766Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=270.914µs elapsed_secs=0.000270914
2025-12-10T08:46:33.417865Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.186612ms elapsed_secs=0.001186612
2025-12-10T08:46:33.417868Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=459.516µs elapsed_secs=0.000459516
2025-12-10T08:46:33.417891Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.834165ms elapsed_secs=0.001834165
2025-12-10T08:46:33.418011Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=195.973µs elapsed_secs=0.000195973
2025-12-10T08:46:33.418046Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.100472ms elapsed_secs=0.001100472
2025-12-10T08:46:33.418364Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=430.409µs elapsed_secs=0.000430409
2025-12-10T08:46:33.418435Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=303.4µs elapsed_secs=0.0003034
2025-12-10T08:46:33.418604Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=688.714µs elapsed_secs=0.000688714
2025-12-10T08:46:33.419100Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.060302ms elapsed_secs=0.001060302
2025-12-10T08:46:33.419116Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=642.268µs elapsed_secs=0.000642268
2025-12-10T08:46:33.419157Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.226318ms elapsed_secs=0.001226318
2025-12-10T08:46:33.419157Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=755.535µs elapsed_secs=0.000755535
2025-12-10T08:46:33.419499Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=184.133µs elapsed_secs=0.000184133
2025-12-10T08:46:33.419614Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=945.597µs elapsed_secs=0.000945597
2025-12-10T08:46:33.419750Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=183.512µs elapsed_secs=0.000183512
2025-12-10T08:46:33.420008Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=242.374µs elapsed_secs=0.000242374
2025-12-10T08:46:33.420112Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=974.918µs elapsed_secs=0.000974918
2025-12-10T08:46:33.420282Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=196.108µs elapsed_secs=0.000196108
2025-12-10T08:46:33.420336Z  WARN         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T08:46:33.420600Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.431709ms elapsed_secs=0.001431709
2025-12-10T08:46:33.420639Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.430016ms elapsed_secs=0.001430016
2025-12-10T08:46:33.420653Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=848.317µs elapsed_secs=0.000848317
2025-12-10T08:46:33.420875Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=146.068µs elapsed_secs=0.000146068
2025-12-10T08:46:33.420903Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=173.12µs elapsed_secs=0.00017312
2025-12-10T08:46:33.420999Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=94.953µs elapsed_secs=9.4953e-5
2025-12-10T08:46:33.421044Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=95.116µs elapsed_secs=9.5116e-5
2025-12-10T08:46:33.421168Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=833.943µs elapsed_secs=0.000833943
2025-12-10T08:46:33.421641Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=921.236µs elapsed_secs=0.000921236
2025-12-10T08:46:33.421642Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=605.511µs elapsed_secs=0.000605511
2025-12-10T08:46:33.421682Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=1.466327ms elapsed_secs=0.001466327
2025-12-10T08:46:33.421861Z  WARN                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T08:46:33.422143Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.066972ms elapsed_secs=0.001066972
2025-12-10T08:46:33.422167Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=937.46µs elapsed_secs=0.00093746
2025-12-10T08:46:33.422344Z  WARN                                           health_check::health_check_works sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T08:46:33.422631Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=925.732µs elapsed_secs=0.000925732
2025-12-10T08:46:33.422640Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=906.915µs elapsed_secs=0.000906915
2025-12-10T08:46:33.422657Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=883.629µs elapsed_secs=0.000883629
2025-12-10T08:46:33.422735Z  WARN         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T08:46:33.422758Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=96.876µs elapsed_secs=9.6876e-5
2025-12-10T08:46:33.422840Z  WARN                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T08:46:33.423085Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=801.271µs elapsed_secs=0.000801271
2025-12-10T08:46:33.423097Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=917.662µs elapsed_secs=0.000917662
2025-12-10T08:46:33.423277Z  WARN subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T08:46:33.423558Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=773.074µs elapsed_secs=0.000773074
2025-12-10T08:46:33.423584Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=864.116µs elapsed_secs=0.000864116
2025-12-10T08:46:33.423603Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=873.755µs elapsed_secs=0.000873755
2025-12-10T08:46:33.423691Z  WARN                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T08:46:33.423714Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=108.412µs elapsed_secs=0.000108412
2025-12-10T08:46:33.424022Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=900.281µs elapsed_secs=0.000900281
2025-12-10T08:46:33.424081Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=877.981µs elapsed_secs=0.000877981
2025-12-10T08:46:33.424114Z  WARN                                           health_check::health_check_works sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T08:46:33.424132Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=86.319µs elapsed_secs=8.6319e-5
2025-12-10T08:46:33.424557Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=816.652µs elapsed_secs=0.000816652
2025-12-10T08:46:33.424596Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=925.732µs elapsed_secs=0.000925732
2025-12-10T08:46:33.424770Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=1.111967ms elapsed_secs=0.001111967
2025-12-10T08:46:33.424781Z  WARN                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T08:46:33.424818Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=165.651µs elapsed_secs=0.000165651
2025-12-10T08:46:33.424953Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=131.241µs elapsed_secs=0.000131241
2025-12-10T08:46:33.425119Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=987.771µs elapsed_secs=0.000987771
2025-12-10T08:46:33.425125Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=963.254µs elapsed_secs=0.000963254
2025-12-10T08:46:33.425341Z  WARN subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T08:46:33.425387Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=229.628µs elapsed_secs=0.000229628
2025-12-10T08:46:33.425689Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=802.162µs elapsed_secs=0.000802162
2025-12-10T08:46:33.425818Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=1.151404ms elapsed_secs=0.001151404
2025-12-10T08:46:33.425942Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=90.336µs elapsed_secs=9.0336e-5
2025-12-10T08:46:33.426154Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=721.622µs elapsed_secs=0.000721622
2025-12-10T08:46:33.426217Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.219305ms elapsed_secs=0.001219305
2025-12-10T08:46:33.426556Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=1.212633ms elapsed_secs=0.001212633
2025-12-10T08:46:33.426700Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=97.679µs elapsed_secs=9.7679e-5
2025-12-10T08:46:33.426708Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=742.717µs elapsed_secs=0.000742717
2025-12-10T08:46:33.426820Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=1.00826ms elapsed_secs=0.00100826
2025-12-10T08:46:33.426935Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=86.264µs elapsed_secs=8.6264e-5
2025-12-10T08:46:33.427173Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=907.835µs elapsed_secs=0.000907835
2025-12-10T08:46:33.427280Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=71.306µs elapsed_secs=7.1306e-5
2025-12-10T08:46:33.427469Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=155.525µs elapsed_secs=0.000155525
2025-12-10T08:46:33.427581Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.427683Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=723.996µs elapsed_secs=0.000723996
2025-12-10T08:46:33.427681Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=927.584µs elapsed_secs=0.000927584
2025-12-10T08:46:33.427709Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=976.663µs elapsed_secs=0.000976663
2025-12-10T08:46:33.427789Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=75.951µs elapsed_secs=7.5951e-5
2025-12-10T08:46:33.427937Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=1.637887ms elapsed_secs=0.001637887
2025-12-10T08:46:33.427994Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=175.388µs elapsed_secs=0.000175388
2025-12-10T08:46:33.428080Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.428161Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=164.666µs elapsed_secs=0.000164666
2025-12-10T08:46:33.428374Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=646.344µs elapsed_secs=0.000646344
2025-12-10T08:46:33.428548Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=125.901µs elapsed_secs=0.000125901
2025-12-10T08:46:33.428857Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=658.561µs elapsed_secs=0.000658561
2025-12-10T08:46:33.428861Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.091816ms elapsed_secs=0.001091816
2025-12-10T08:46:33.428884Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=285.573µs elapsed_secs=0.000285573
2025-12-10T08:46:33.429025Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.429053Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=147.149µs elapsed_secs=0.000147149
2025-12-10T08:46:33.429119Z  INFO         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T08:46:33.429119Z  INFO                subscriptions::subscribe_returns_a_400_when_data_is_missing actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T08:46:33.429157Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data api::helpers: tests/api/helpers.rs:110: test_app spawned with details: TestApp { address: "http://127.0.0.1:36931", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:44703 }, id: 2, metrics: Metrics { created: Instant { tv_sec: 967, tv_nsec: 766923887 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T08:46:33.429157Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing api::helpers: tests/api/helpers.rs:110: test_app spawned with details: TestApp { address: "http://127.0.0.1:34207", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:44613 }, id: 4, metrics: Metrics { created: Instant { tv_sec: 967, tv_nsec: 766942064 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T08:46:33.429187Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data api::subscriptions: tests/api/subscriptions.rs:104: test_app started with email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:44703 }, id: 2, metrics: Metrics { created: Instant { tv_sec: 967, tv_nsec: 766923887 }, recycled: None, recycle_count: 0 } }) }))
2025-12-10T08:46:33.429188Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing api::subscriptions: tests/api/subscriptions.rs:47: test_app started with email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:44613 }, id: 4, metrics: Metrics { created: Instant { tv_sec: 967, tv_nsec: 766942064 }, recycled: None, recycle_count: 0 } }) }))
2025-12-10T08:46:33.429406Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=294.411µs elapsed_secs=0.000294411
2025-12-10T08:46:33.429429Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:34207/
2025-12-10T08:46:33.429429Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:36931/
2025-12-10T08:46:33.429460Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:36931
2025-12-10T08:46:33.429459Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:34207
2025-12-10T08:46:33.429492Z  INFO                 subscriptions::subscribe_returns_a_200_for_valid_form_data actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T08:46:33.429543Z DEBUG                                           health_check::health_check_works sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.429528Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data api::helpers: tests/api/helpers.rs:110: test_app spawned with details: TestApp { address: "http://127.0.0.1:43655", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:38473 }, id: 3, metrics: Metrics { created: Instant { tv_sec: 967, tv_nsec: 766934650 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T08:46:33.429572Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data api::subscriptions: tests/api/subscriptions.rs:12: test_app started with email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:38473 }, id: 3, metrics: Metrics { created: Instant { tv_sec: 967, tv_nsec: 766934650 }, recycled: None, recycle_count: 0 } }) }))
2025-12-10T08:46:33.429600Z  INFO         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T08:46:33.429601Z  INFO                subscriptions::subscribe_returns_a_400_when_data_is_missing actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T08:46:33.429615Z  INFO                subscriptions::subscribe_returns_a_400_when_data_is_missing actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:34207", workers: 22, listening on: 127.0.0.1:34207
2025-12-10T08:46:33.429616Z  INFO         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:36931", workers: 22, listening on: 127.0.0.1:36931
2025-12-10T08:46:33.429661Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=745.174µs elapsed_secs=0.000745174
2025-12-10T08:46:33.429819Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:43655/
2025-12-10T08:46:33.429828Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=117.084µs elapsed_secs=0.000117084
2025-12-10T08:46:33.429867Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:43655
2025-12-10T08:46:33.430203Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=323.001µs elapsed_secs=0.000323001
2025-12-10T08:46:33.430340Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:46:33.446411Z  INFO subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T08:46:33.446422Z  INFO                                           health_check::health_check_works actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T08:46:33.446427Z  INFO                 subscriptions::subscribe_returns_a_200_for_valid_form_data actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T08:46:33.446449Z  INFO                 subscriptions::subscribe_returns_a_200_for_valid_form_data actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:43655", workers: 22, listening on: 127.0.0.1:43655
2025-12-10T08:46:33.446450Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid api::helpers: tests/api/helpers.rs:110: test_app spawned with details: TestApp { address: "http://127.0.0.1:41845", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:46845 }, id: 0, metrics: Metrics { created: Instant { tv_sec: 967, tv_nsec: 766915987 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T08:46:33.446451Z DEBUG                                           health_check::health_check_works api::helpers: tests/api/helpers.rs:110: test_app spawned with details: TestApp { address: "http://127.0.0.1:33205", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:45969 }, id: 1, metrics: Metrics { created: Instant { tv_sec: 967, tv_nsec: 766916000 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T08:46:33.446494Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid api::subscriptions: tests/api/subscriptions.rs:75: test_app started with email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:46845 }, id: 0, metrics: Metrics { created: Instant { tv_sec: 967, tv_nsec: 766915987 }, recycled: None, recycle_count: 0 } }) }))
2025-12-10T08:46:33.446708Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:41845/
2025-12-10T08:46:33.446706Z DEBUG                                           health_check::health_check_works reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:33205/
2025-12-10T08:46:33.446767Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:41845
2025-12-10T08:46:33.446768Z DEBUG                                           health_check::health_check_works hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:33205
2025-12-10T08:46:33.446924Z  INFO subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T08:46:33.446924Z  INFO                                           health_check::health_check_works actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T08:46:33.446951Z  INFO subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:41845", workers: 22, listening on: 127.0.0.1:41845
2025-12-10T08:46:33.446956Z  INFO                                           health_check::health_check_works actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:33205", workers: 22, listening on: 127.0.0.1:33205
2025-12-10T08:46:33.450842Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:36931
2025-12-10T08:46:33.450931Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:43655
2025-12-10T08:46:33.451432Z DEBUG                                           health_check::health_check_works hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:33205
2025-12-10T08:46:33.451503Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:34207
2025-12-10T08:46:33.451972Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:41845
2025-12-10T08:46:33.468018Z  INFO                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:36931 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=0aa40ef5-2c61-4463-b4bd-6ea24f97c5f0}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T08:46:33.468058Z  WARN                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:34207 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=58539330-4a2f-4eaf-a466-2a01c4f696de exception.message=Parse error: missing field `email`. exception.details=Parse(Error("missing field `email`")) http.status_code=400 otel.status_code="OK"}: tracing_actix_web::middleware: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.19/src/middleware.rs:256: Error encountered while processing the incoming HTTP request: Parse(Error("missing field `email`"))
2025-12-10T08:46:33.468064Z  INFO                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:41845 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=a7865e6d-e2b7-4857-9cd8-60ed952c06cb}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T08:46:33.468069Z  INFO                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:43655 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=fe90fde1-73cc-4043-b939-89ecbf7913ae}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T08:46:33.468190Z DEBUG                                           health_check::health_check_works hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:33205)
2025-12-10T08:46:33.468323Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:41845)
2025-12-10T08:46:33.468318Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:34207)
2025-12-10T08:46:33.468434Z DEBUG                                           health_check::health_check_works wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
2025-12-10T08:46:33.468647Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:41845/
2025-12-10T08:46:33.468655Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:34207/
2025-12-10T08:46:33.468696Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:41845
2025-12-10T08:46:33.468703Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:34207
2025-12-10T08:46:33.468887Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:41845
2025-12-10T08:46:33.468959Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:34207
2025-12-10T08:46:33.480021Z  WARN                                                      actix-server worker 1 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:34207 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=6f466d1e-7ad0-4b10-a0e9-c95f31c68ffa exception.message=Parse error: missing field `name`. exception.details=Parse(Error("missing field `name`")) http.status_code=400 otel.status_code="OK"}: tracing_actix_web::middleware: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.19/src/middleware.rs:256: Error encountered while processing the incoming HTTP request: Parse(Error("missing field `name`"))
2025-12-10T08:46:33.480317Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:34207)
2025-12-10T08:46:33.480644Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:34207/
2025-12-10T08:46:33.480683Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:34207
2025-12-10T08:46:33.492461Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:34207
2025-12-10T08:46:33.492787Z  WARN                                                      actix-server worker 2 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:34207 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=fcf2a033-1b33-4ebe-befb-6bf3a8473470 exception.message=Parse error: missing field `email`. exception.details=Parse(Error("missing field `email`")) http.status_code=400 otel.status_code="OK"}: tracing_actix_web::middleware: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.19/src/middleware.rs:256: Error encountered while processing the incoming HTTP request: Parse(Error("missing field `email`"))
2025-12-10T08:46:33.492822Z  INFO                                                      actix-server worker 1 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:41845 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=77e6e60d-975c-41fc-9d9a-6c81e8542396}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email= subscriber_name=Ursula}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T08:46:33.492960Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:34207)
2025-12-10T08:46:33.493108Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:41845)
2025-12-10T08:46:33.493163Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
2025-12-10T08:46:33.493447Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:41845/
2025-12-10T08:46:33.493493Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:41845
2025-12-10T08:46:33.493683Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:41845
2025-12-10T08:46:33.494008Z  INFO                                                      actix-server worker 2 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:41845 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=8fbe0d4d-72a7-4139-a8ec-bfe82640dd35}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=definitely-not-an-email subscriber_name=Ursula}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T08:46:33.494190Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:41845)
2025-12-10T08:46:33.494375Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
2025-12-10T08:46:33.494418Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:36931 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=0aa40ef5-2c61-4463-b4bd-6ea24f97c5f0}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}:Saving new subscriber details in the database: sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO subscriptions (id, …" db.statement="\n\n\n        INSERT INTO subscriptions (id, email, name, subscribed_at, status)\n        VALUES ($1, $2, $3, $4, 'confirmed')\n        \n" rows_affected=1 rows_returned=0 elapsed=2.883317ms elapsed_secs=0.002883317
2025-12-10T08:46:33.494473Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:36931 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=0aa40ef5-2c61-4463-b4bd-6ea24f97c5f0}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:58: Trying to send email to subscriber via email_client: Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T08:46:33.494532Z ERROR                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:36931 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=0aa40ef5-2c61-4463-b4bd-6ea24f97c5f0}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:69: Failed to send email to subscriber: reqwest::Error { kind: Builder, source: RelativeUrlWithoutBase }
2025-12-10T08:46:33.494755Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:36931)
2025-12-10T08:46:33.494938Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
2025-12-10T08:46:33.496842Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:43655 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=fe90fde1-73cc-4043-b939-89ecbf7913ae}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}:Saving new subscriber details in the database: sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO subscriptions (id, …" db.statement="\n\n\n        INSERT INTO subscriptions (id, email, name, subscribed_at, status)\n        VALUES ($1, $2, $3, $4, 'confirmed')\n        \n" rows_affected=1 rows_returned=0 elapsed=1.924813ms elapsed_secs=0.001924813
2025-12-10T08:46:33.496935Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:43655 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=fe90fde1-73cc-4043-b939-89ecbf7913ae}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:58: Trying to send email to subscriber via email_client: Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T08:46:33.497024Z ERROR                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:43655 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=fe90fde1-73cc-4043-b939-89ecbf7913ae}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:69: Failed to send email to subscriber: reqwest::Error { kind: Builder, source: RelativeUrlWithoutBase }
2025-12-10T08:46:33.497387Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:43655)
2025-12-10T08:46:33.497634Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
2025-12-10T08:53:02.544409Z  INFO subscriptions::subscribe_sends_a_confirmation_email_for_valid_data zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T08:53:02.544652Z  INFO                                   health_check::health_check_works zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T08:53:02.544652Z  INFO subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T08:53:02.544683Z  INFO                 subscriptions::subscribe_returns_a_200_for_valid_form_data zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T08:53:02.545076Z  INFO                subscriptions::subscribe_returns_a_400_when_data_is_missing zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T08:53:02.545290Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.545571Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.545571Z DEBUG                                           health_check::health_check_works sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.545625Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.546026Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.606435Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"275b4eee-c1aa-4d5e-8da8-215dd5736d45\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=36.323208ms elapsed_secs=0.036323208
2025-12-10T08:53:02.606636Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.606954Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"73bab7d0-0750-4c4f-b269-14870a453cdd\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=33.920083ms elapsed_secs=0.033920083
2025-12-10T08:53:02.607030Z DEBUG                                           health_check::health_check_works sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.614086Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"eb8f97c8-9987-45c6-ba1a-88637cb75fa4\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=41.285099ms elapsed_secs=0.041285099
2025-12-10T08:53:02.614214Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.620473Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"3dc5f063-1aeb-48b2-9b57-21ed5dee0eab\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=47.712333ms elapsed_secs=0.047712333
2025-12-10T08:53:02.620574Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.621331Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"006480ae-463c-402e-b66e-66088aaa4712\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=50.312173ms elapsed_secs=0.050312173
2025-12-10T08:53:02.621401Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.634636Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=577.472µs elapsed_secs=0.000577472
2025-12-10T08:53:02.634961Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=653.343µs elapsed_secs=0.000653343
2025-12-10T08:53:02.635190Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=479.009µs elapsed_secs=0.000479009
2025-12-10T08:53:02.635383Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=355.733µs elapsed_secs=0.000355733
2025-12-10T08:53:02.637796Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=2.555265ms elapsed_secs=0.002555265
2025-12-10T08:53:02.638399Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=551.708µs elapsed_secs=0.000551708
2025-12-10T08:53:02.638603Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=163.388µs elapsed_secs=0.000163388
2025-12-10T08:53:02.638794Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=3.360171ms elapsed_secs=0.003360171
2025-12-10T08:53:02.639745Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=890.89µs elapsed_secs=0.00089089
2025-12-10T08:53:02.639818Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=361.381µs elapsed_secs=0.000361381
2025-12-10T08:53:02.640183Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=316.198µs elapsed_secs=0.000316198
2025-12-10T08:53:02.640302Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=502.207µs elapsed_secs=0.000502207
2025-12-10T08:53:02.640589Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.82998ms elapsed_secs=0.00182998
2025-12-10T08:53:02.641078Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=417.704µs elapsed_secs=0.000417704
2025-12-10T08:53:02.641915Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=789.638µs elapsed_secs=0.000789638
2025-12-10T08:53:02.642572Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.982359ms elapsed_secs=0.001982359
2025-12-10T08:53:02.642920Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=948.792µs elapsed_secs=0.000948792
2025-12-10T08:53:02.643051Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=407.455µs elapsed_secs=0.000407455
2025-12-10T08:53:02.643290Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=234.553µs elapsed_secs=0.000234553
2025-12-10T08:53:02.643490Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=144.147µs elapsed_secs=0.000144147
2025-12-10T08:53:02.643751Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=650.452µs elapsed_secs=0.000650452
2025-12-10T08:53:02.644302Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=763.469µs elapsed_secs=0.000763469
2025-12-10T08:53:02.644769Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=967.012µs elapsed_secs=0.000967012
2025-12-10T08:53:02.644819Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=4.574638ms elapsed_secs=0.004574638
2025-12-10T08:53:02.645216Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=336.008µs elapsed_secs=0.000336008
2025-12-10T08:53:02.645260Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=911.836µs elapsed_secs=0.000911836
2025-12-10T08:53:02.645452Z  WARN                                           health_check::health_check_works sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T08:53:02.645458Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=169.551µs elapsed_secs=0.000169551
2025-12-10T08:53:02.645600Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=743.727µs elapsed_secs=0.000743727
2025-12-10T08:53:02.646054Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=405.203µs elapsed_secs=0.000405203
2025-12-10T08:53:02.646180Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=677.743µs elapsed_secs=0.000677743
2025-12-10T08:53:02.646695Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=1.343842ms elapsed_secs=0.001343842
2025-12-10T08:53:02.647193Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=957.891µs elapsed_secs=0.000957891
2025-12-10T08:53:02.647480Z  WARN                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T08:53:02.647667Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=924.361µs elapsed_secs=0.000924361
2025-12-10T08:53:02.647789Z  WARN                                           health_check::health_check_works sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T08:53:02.647814Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=91.83µs elapsed_secs=9.183e-5
2025-12-10T08:53:02.648026Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.808278ms elapsed_secs=0.001808278
2025-12-10T08:53:02.648236Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=894.183µs elapsed_secs=0.000894183
2025-12-10T08:53:02.648327Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=268.949µs elapsed_secs=0.000268949
2025-12-10T08:53:02.648716Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=866.078µs elapsed_secs=0.000866078
2025-12-10T08:53:02.649170Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=815.013µs elapsed_secs=0.000815013
2025-12-10T08:53:02.649276Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=995.755µs elapsed_secs=0.000995755
2025-12-10T08:53:02.649577Z  WARN                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T08:53:02.649616Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=291.599µs elapsed_secs=0.000291599
2025-12-10T08:53:02.649908Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=1.081478ms elapsed_secs=0.001081478
2025-12-10T08:53:02.649997Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=774.477µs elapsed_secs=0.000774477
2025-12-10T08:53:02.650048Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=88.462µs elapsed_secs=8.8462e-5
2025-12-10T08:53:02.650359Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=256.106µs elapsed_secs=0.000256106
2025-12-10T08:53:02.650601Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=930.463µs elapsed_secs=0.000930463
2025-12-10T08:53:02.650609Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=180.402µs elapsed_secs=0.000180402
2025-12-10T08:53:02.651147Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.070261ms elapsed_secs=0.001070261
2025-12-10T08:53:02.651614Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=961.683µs elapsed_secs=0.000961683
2025-12-10T08:53:02.652130Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=919.45µs elapsed_secs=0.00091945
2025-12-10T08:53:02.652345Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=156.867µs elapsed_secs=0.000156867
2025-12-10T08:53:02.652548Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=1.791818ms elapsed_secs=0.001791818
2025-12-10T08:53:02.652632Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=954.353µs elapsed_secs=0.000954353
2025-12-10T08:53:02.652718Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=327.909µs elapsed_secs=0.000327909
2025-12-10T08:53:02.652742Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=135.619µs elapsed_secs=0.000135619
2025-12-10T08:53:02.652864Z  WARN subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T08:53:02.652907Z DEBUG                                           health_check::health_check_works sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.653397Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=621.488µs elapsed_secs=0.000621488
2025-12-10T08:53:02.654128Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=1.364457ms elapsed_secs=0.001364457
2025-12-10T08:53:02.654280Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=324.774µs elapsed_secs=0.000324774
2025-12-10T08:53:02.654286Z DEBUG                                           health_check::health_check_works zero2prod::startup: src/startup.rs:63: running app with email_client: EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }
2025-12-10T08:53:02.654328Z DEBUG                                           health_check::health_check_works zero2prod::startup: src/startup.rs:67: running app with email_client data: Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T08:53:02.654425Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=385.627µs elapsed_secs=0.000385627
2025-12-10T08:53:02.654496Z  INFO                                           health_check::health_check_works actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T08:53:02.654539Z DEBUG                                           health_check::health_check_works api::helpers: tests/api/helpers.rs:110: test_app spawned with details: TestApp { address: "http://127.0.0.1:43581", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:40187 }, id: 2, metrics: Metrics { created: Instant { tv_sec: 1357, tv_nsec: 9400551 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T08:53:02.654566Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.114651ms elapsed_secs=0.001114651
2025-12-10T08:53:02.654596Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=273.775µs elapsed_secs=0.000273775
2025-12-10T08:53:02.654682Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=82.485µs elapsed_secs=8.2485e-5
2025-12-10T08:53:02.654712Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=253.845µs elapsed_secs=0.000253845
2025-12-10T08:53:02.654795Z DEBUG                                           health_check::health_check_works reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:43581/
2025-12-10T08:53:02.654831Z DEBUG                                           health_check::health_check_works hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:43581
2025-12-10T08:53:02.654958Z  INFO                                           health_check::health_check_works actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T08:53:02.654973Z  INFO                                           health_check::health_check_works actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:43581", workers: 22, listening on: 127.0.0.1:43581
2025-12-10T08:53:02.655019Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=297.91µs elapsed_secs=0.00029791
2025-12-10T08:53:02.655052Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=864.682µs elapsed_secs=0.000864682
2025-12-10T08:53:02.655164Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.655222Z  WARN subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T08:53:02.655266Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=171.053µs elapsed_secs=0.000171053
2025-12-10T08:53:02.656311Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=998.963µs elapsed_secs=0.000998963
2025-12-10T08:53:02.657229Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=2.477122ms elapsed_secs=0.002477122
2025-12-10T08:53:02.658050Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=3.408332ms elapsed_secs=0.003408332
2025-12-10T08:53:02.658060Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=766.471µs elapsed_secs=0.000766471
2025-12-10T08:53:02.658321Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=1.87926ms elapsed_secs=0.00187926
2025-12-10T08:53:02.658430Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=310.108µs elapsed_secs=0.000310108
2025-12-10T08:53:02.658524Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=419.998µs elapsed_secs=0.000419998
2025-12-10T08:53:02.658568Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=182.188µs elapsed_secs=0.000182188
2025-12-10T08:53:02.658750Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=186.006µs elapsed_secs=0.000186006
2025-12-10T08:53:02.659285Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=671.282µs elapsed_secs=0.000671282
2025-12-10T08:53:02.659356Z DEBUG                                           health_check::health_check_works hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:43581
2025-12-10T08:53:02.659839Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=991.918µs elapsed_secs=0.000991918
2025-12-10T08:53:02.660042Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.458359ms elapsed_secs=0.001458359
2025-12-10T08:53:02.660113Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=234.643µs elapsed_secs=0.000234643
2025-12-10T08:53:02.660115Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=770.96µs elapsed_secs=0.00077096
2025-12-10T08:53:02.660322Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=160.924µs elapsed_secs=0.000160924
2025-12-10T08:53:02.660476Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=387.836µs elapsed_secs=0.000387836
2025-12-10T08:53:02.660724Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=339.009µs elapsed_secs=0.000339009
2025-12-10T08:53:02.660734Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=589.063µs elapsed_secs=0.000589063
2025-12-10T08:53:02.660875Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.661278Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid zero2prod::startup: src/startup.rs:63: running app with email_client: EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }
2025-12-10T08:53:02.661294Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=762.835µs elapsed_secs=0.000762835
2025-12-10T08:53:02.661312Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid zero2prod::startup: src/startup.rs:67: running app with email_client data: Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T08:53:02.661738Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=938.356µs elapsed_secs=0.000938356
2025-12-10T08:53:02.661952Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=119.357µs elapsed_secs=0.000119357
2025-12-10T08:53:02.662059Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=75.332µs elapsed_secs=7.5332e-5
2025-12-10T08:53:02.662220Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=857.991µs elapsed_secs=0.000857991
2025-12-10T08:53:02.662445Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=127.705µs elapsed_secs=0.000127705
2025-12-10T08:53:02.662606Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=113.987µs elapsed_secs=0.000113987
2025-12-10T08:53:02.662683Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=597.541µs elapsed_secs=0.000597541
2025-12-10T08:53:02.663330Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=664.315µs elapsed_secs=0.000664315
2025-12-10T08:53:02.663832Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.104205ms elapsed_secs=0.001104205
2025-12-10T08:53:02.664008Z  WARN                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T08:53:02.664312Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=938.986µs elapsed_secs=0.000938986
2025-12-10T08:53:02.664479Z  WARN         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T08:53:02.664850Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=917.057µs elapsed_secs=0.000917057
2025-12-10T08:53:02.665316Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=921.657µs elapsed_secs=0.000921657
2025-12-10T08:53:02.665770Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=877.548µs elapsed_secs=0.000877548
2025-12-10T08:53:02.665865Z  WARN                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T08:53:02.665890Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=92.393µs elapsed_secs=9.2393e-5
2025-12-10T08:53:02.666250Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=885.395µs elapsed_secs=0.000885395
2025-12-10T08:53:02.666356Z  WARN         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T08:53:02.666374Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=81.124µs elapsed_secs=8.1124e-5
2025-12-10T08:53:02.666710Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=789.651µs elapsed_secs=0.000789651
2025-12-10T08:53:02.667205Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=800.187µs elapsed_secs=0.000800187
2025-12-10T08:53:02.667793Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=995.341µs elapsed_secs=0.000995341
2025-12-10T08:53:02.667954Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=106.169µs elapsed_secs=0.000106169
2025-12-10T08:53:02.668404Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=1.110227ms elapsed_secs=0.001110227
2025-12-10T08:53:02.668524Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=86.636µs elapsed_secs=8.6636e-5
2025-12-10T08:53:02.668630Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=617.588µs elapsed_secs=0.000617588
2025-12-10T08:53:02.669143Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=592.38µs elapsed_secs=0.00059238
2025-12-10T08:53:02.669582Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=895.932µs elapsed_secs=0.000895932
2025-12-10T08:53:02.669707Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=80.523µs elapsed_secs=8.0523e-5
2025-12-10T08:53:02.669884Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=147.692µs elapsed_secs=0.000147692
2025-12-10T08:53:02.669970Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.670093Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=896.715µs elapsed_secs=0.000896715
2025-12-10T08:53:02.670171Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data zero2prod::startup: src/startup.rs:63: running app with email_client: EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }
2025-12-10T08:53:02.670184Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=53.945µs elapsed_secs=5.3945e-5
2025-12-10T08:53:02.670195Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data zero2prod::startup: src/startup.rs:67: running app with email_client data: Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T08:53:02.670354Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=144.959µs elapsed_secs=0.000144959
2025-12-10T08:53:02.670439Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T08:53:02.670675Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data zero2prod::startup: src/startup.rs:63: running app with email_client: EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }
2025-12-10T08:53:02.670706Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data zero2prod::startup: src/startup.rs:67: running app with email_client data: Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T08:53:02.681925Z DEBUG                                           health_check::health_check_works hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:43581)
2025-12-10T08:53:02.682107Z DEBUG                                           health_check::health_check_works wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
2025-12-10T08:53:02.691310Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing zero2prod::startup: src/startup.rs:63: running app with email_client: EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }
2025-12-10T08:53:02.691414Z  INFO         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T08:53:02.691415Z  INFO subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T08:53:02.691442Z  INFO                 subscriptions::subscribe_returns_a_200_for_valid_form_data actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T08:53:02.691425Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing zero2prod::startup: src/startup.rs:67: running app with email_client data: Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T08:53:02.691450Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data api::helpers: tests/api/helpers.rs:110: test_app spawned with details: TestApp { address: "http://127.0.0.1:33003", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:36639 }, id: 0, metrics: Metrics { created: Instant { tv_sec: 1357, tv_nsec: 9128515 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T08:53:02.691469Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data api::helpers: tests/api/helpers.rs:110: test_app spawned with details: TestApp { address: "http://127.0.0.1:42241", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:34977 }, id: 3, metrics: Metrics { created: Instant { tv_sec: 1357, tv_nsec: 9430969 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T08:53:02.691459Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid api::helpers: tests/api/helpers.rs:110: test_app spawned with details: TestApp { address: "http://127.0.0.1:37579", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:46277 }, id: 1, metrics: Metrics { created: Instant { tv_sec: 1357, tv_nsec: 9395951 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T08:53:02.691488Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data api::subscriptions: tests/api/subscriptions.rs:104: test_app started with email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:36639 }, id: 0, metrics: Metrics { created: Instant { tv_sec: 1357, tv_nsec: 9128515 }, recycled: None, recycle_count: 0 } }) }))
2025-12-10T08:53:02.691493Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data api::subscriptions: tests/api/subscriptions.rs:12: test_app started with email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:34977 }, id: 3, metrics: Metrics { created: Instant { tv_sec: 1357, tv_nsec: 9430969 }, recycled: None, recycle_count: 0 } }) }))
2025-12-10T08:53:02.691508Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid api::subscriptions: tests/api/subscriptions.rs:75: test_app started with email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:46277 }, id: 1, metrics: Metrics { created: Instant { tv_sec: 1357, tv_nsec: 9395951 }, recycled: None, recycle_count: 0 } }) }))
2025-12-10T08:53:02.691549Z  INFO                subscriptions::subscribe_returns_a_400_when_data_is_missing actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T08:53:02.691572Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing api::helpers: tests/api/helpers.rs:110: test_app spawned with details: TestApp { address: "http://127.0.0.1:39461", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:36407 }, id: 4, metrics: Metrics { created: Instant { tv_sec: 1357, tv_nsec: 9824221 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T08:53:02.691604Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing api::subscriptions: tests/api/subscriptions.rs:47: test_app started with email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:36407 }, id: 4, metrics: Metrics { created: Instant { tv_sec: 1357, tv_nsec: 9824221 }, recycled: None, recycle_count: 0 } }) }))
2025-12-10T08:53:02.691686Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:42241/
2025-12-10T08:53:02.691687Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:33003/
2025-12-10T08:53:02.691719Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:42241
2025-12-10T08:53:02.691719Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:33003
2025-12-10T08:53:02.691779Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:39461/
2025-12-10T08:53:02.691785Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:37579/
2025-12-10T08:53:02.691810Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:39461
2025-12-10T08:53:02.691828Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:37579
2025-12-10T08:53:02.691840Z  INFO                 subscriptions::subscribe_returns_a_200_for_valid_form_data actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T08:53:02.691841Z  INFO         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T08:53:02.691852Z  INFO                 subscriptions::subscribe_returns_a_200_for_valid_form_data actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:42241", workers: 22, listening on: 127.0.0.1:42241
2025-12-10T08:53:02.691853Z  INFO         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:33003", workers: 22, listening on: 127.0.0.1:33003
2025-12-10T08:53:02.691932Z  INFO                subscriptions::subscribe_returns_a_400_when_data_is_missing actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T08:53:02.691951Z  INFO                subscriptions::subscribe_returns_a_400_when_data_is_missing actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:39461", workers: 22, listening on: 127.0.0.1:39461
2025-12-10T08:53:02.692000Z  INFO subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T08:53:02.692025Z  INFO subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:37579", workers: 22, listening on: 127.0.0.1:37579
2025-12-10T08:53:02.696768Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:39461
2025-12-10T08:53:02.696794Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:42241
2025-12-10T08:53:02.697228Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:33003
2025-12-10T08:53:02.697789Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:37579
2025-12-10T08:53:02.718008Z  INFO                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:37579 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=89426588-88ac-4a38-81f6-79d5a01be3aa}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T08:53:02.718027Z  WARN                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:39461 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=1c5ba7bb-2685-49e0-bdd6-facc33f3ef82 exception.message=Parse error: missing field `email`. exception.details=Parse(Error("missing field `email`")) http.status_code=400 otel.status_code="OK"}: tracing_actix_web::middleware: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.19/src/middleware.rs:256: Error encountered while processing the incoming HTTP request: Parse(Error("missing field `email`"))
2025-12-10T08:53:02.718049Z  INFO                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:33003 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=c0e0d043-deea-4b1c-bf24-a0b5395fad0b}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T08:53:02.718352Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:39461)
2025-12-10T08:53:02.718355Z  INFO                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:42241 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=d0fc1f7c-996e-46f7-a2d5-e227854dbf19}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T08:53:02.718399Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:37579)
2025-12-10T08:53:02.718805Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:37579/
2025-12-10T08:53:02.718807Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:39461/
2025-12-10T08:53:02.718858Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:39461
2025-12-10T08:53:02.718858Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:37579
2025-12-10T08:53:02.732477Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:39461
2025-12-10T08:53:02.732477Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:37579
2025-12-10T08:53:02.733011Z  INFO                                                      actix-server worker 1 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:37579 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=14969fc6-c2fb-4a08-86db-5f180ef3424b}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email= subscriber_name=Ursula}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T08:53:02.733042Z  WARN                                                      actix-server worker 1 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:39461 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=496ba021-0758-4a7d-9768-38c346e268b9 exception.message=Parse error: missing field `name`. exception.details=Parse(Error("missing field `name`")) http.status_code=400 otel.status_code="OK"}: tracing_actix_web::middleware: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.19/src/middleware.rs:256: Error encountered while processing the incoming HTTP request: Parse(Error("missing field `name`"))
2025-12-10T08:53:02.733299Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:37579)
2025-12-10T08:53:02.733300Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:39461)
2025-12-10T08:53:02.733633Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:37579/
2025-12-10T08:53:02.733637Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:39461/
2025-12-10T08:53:02.733679Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:37579
2025-12-10T08:53:02.733679Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:39461
2025-12-10T08:53:02.733877Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:37579
2025-12-10T08:53:02.733880Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:39461
2025-12-10T08:53:02.734353Z  WARN                                                      actix-server worker 2 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:39461 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=a251b081-227c-4e40-b49e-b3ed0af4deb5 exception.message=Parse error: missing field `email`. exception.details=Parse(Error("missing field `email`")) http.status_code=400 otel.status_code="OK"}: tracing_actix_web::middleware: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.19/src/middleware.rs:256: Error encountered while processing the incoming HTTP request: Parse(Error("missing field `email`"))
2025-12-10T08:53:02.734383Z  INFO                                                      actix-server worker 2 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:37579 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=42b4b249-6028-4709-a36c-5cf8079656b7}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=definitely-not-an-email subscriber_name=Ursula}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T08:53:02.734599Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:39461)
2025-12-10T08:53:02.734624Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:37579)
2025-12-10T08:53:02.734831Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
2025-12-10T08:53:02.734832Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
2025-12-10T08:53:02.759787Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:33003 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=c0e0d043-deea-4b1c-bf24-a0b5395fad0b}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}:Saving new subscriber details in the database: sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO subscriptions (id, …" db.statement="\n\n\n        INSERT INTO subscriptions (id, email, name, subscribed_at, status)\n        VALUES ($1, $2, $3, $4, 'confirmed')\n        \n" rows_affected=1 rows_returned=0 elapsed=3.167254ms elapsed_secs=0.003167254
2025-12-10T08:53:02.759894Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:33003 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=c0e0d043-deea-4b1c-bf24-a0b5395fad0b}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:58: Trying to send email to subscriber via email_client: Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T08:53:02.759982Z ERROR                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:33003 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=c0e0d043-deea-4b1c-bf24-a0b5395fad0b}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:69: Failed to send email to subscriber: reqwest::Error { kind: Builder, source: RelativeUrlWithoutBase }
2025-12-10T08:53:02.760246Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:42241 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=d0fc1f7c-996e-46f7-a2d5-e227854dbf19}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}:Saving new subscriber details in the database: sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO subscriptions (id, …" db.statement="\n\n\n        INSERT INTO subscriptions (id, email, name, subscribed_at, status)\n        VALUES ($1, $2, $3, $4, 'confirmed')\n        \n" rows_affected=1 rows_returned=0 elapsed=3.310924ms elapsed_secs=0.003310924
2025-12-10T08:53:02.760275Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:33003)
2025-12-10T08:53:02.760313Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:42241 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=d0fc1f7c-996e-46f7-a2d5-e227854dbf19}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:58: Trying to send email to subscriber via email_client: Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T08:53:02.760373Z ERROR                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:42241 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=d0fc1f7c-996e-46f7-a2d5-e227854dbf19}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "localhost", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:69: Failed to send email to subscriber: reqwest::Error { kind: Builder, source: RelativeUrlWithoutBase }
2025-12-10T08:53:02.760476Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
2025-12-10T08:53:02.760593Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:42241)
2025-12-10T08:53:02.760752Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
2025-12-10T09:05:10.673547Z  INFO subscriptions::subscribe_returns_a_400_when_data_is_missing zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T09:05:10.673553Z  INFO                            health_check::health_check_works zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T09:05:10.673553Z  INFO subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T09:05:10.673553Z  INFO  subscriptions::subscribe_returns_a_200_for_valid_form_data zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T09:05:10.673555Z  INFO         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data zero2prod::configuration: src/configuration.rs:108: Running environment: local
2025-12-10T09:05:10.674242Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.674353Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.674353Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.674353Z DEBUG                                           health_check::health_check_works sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.674368Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.733914Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"8c519ac7-7586-4a2d-9e7d-4c9f6f06cf7b\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=35.936582ms elapsed_secs=0.035936582
2025-12-10T09:05:10.734078Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.746390Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"047a94a8-60bb-42f6-9b26-a2e99a727a73\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=48.452418ms elapsed_secs=0.048452418
2025-12-10T09:05:10.746534Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.752502Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"8ab95757-31f0-48cd-9f21-b34d69c2c792\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=53.576872ms elapsed_secs=0.053576872
2025-12-10T09:05:10.752610Z DEBUG                                           health_check::health_check_works sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.752903Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"7cba6f0b-9299-4345-929b-dc764a0278c1\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=42.100281ms elapsed_secs=0.042100281
2025-12-10T09:05:10.752912Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE DATABASE \"83f99246-44ee-45b1-a66b-44640222257c\";" db.statement="" rows_affected=0 rows_returned=0 elapsed=51.426541ms elapsed_secs=0.051426541
2025-12-10T09:05:10.752968Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.752970Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.763794Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=647.397µs elapsed_secs=0.000647397
2025-12-10T09:05:10.764308Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=439.755µs elapsed_secs=0.000439755
2025-12-10T09:05:10.768095Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=3.735582ms elapsed_secs=0.003735582
2025-12-10T09:05:10.769107Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=951.991µs elapsed_secs=0.000951991
2025-12-10T09:05:10.769868Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=700.725µs elapsed_secs=0.000700725
2025-12-10T09:05:10.772147Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.968197ms elapsed_secs=0.001968197
2025-12-10T09:05:10.772737Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=514.164µs elapsed_secs=0.000514164
2025-12-10T09:05:10.773598Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=804.15µs elapsed_secs=0.00080415
2025-12-10T09:05:10.774741Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.075889ms elapsed_secs=0.001075889
2025-12-10T09:05:10.775078Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=195.047µs elapsed_secs=0.000195047
2025-12-10T09:05:10.775271Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=125.007µs elapsed_secs=0.000125007
2025-12-10T09:05:10.776154Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=827.554µs elapsed_secs=0.000827554
2025-12-10T09:05:10.776486Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=576.763µs elapsed_secs=0.000576763
2025-12-10T09:05:10.776873Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=307.275µs elapsed_secs=0.000307275
2025-12-10T09:05:10.777020Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=805.033µs elapsed_secs=0.000805033
2025-12-10T09:05:10.777483Z  WARN                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T09:05:10.777899Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=532.213µs elapsed_secs=0.000532213
2025-12-10T09:05:10.778275Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=315.756µs elapsed_secs=0.000315756
2025-12-10T09:05:10.778740Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=1.479375ms elapsed_secs=0.001479375
2025-12-10T09:05:10.779451Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=2.532156ms elapsed_secs=0.002532156
2025-12-10T09:05:10.779924Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=437.387µs elapsed_secs=0.000437387
2025-12-10T09:05:10.780011Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=1.222646ms elapsed_secs=0.001222646
2025-12-10T09:05:10.780125Z  WARN                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T09:05:10.780144Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=110.602µs elapsed_secs=0.000110602
2025-12-10T09:05:10.780297Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=325.863µs elapsed_secs=0.000325863
2025-12-10T09:05:10.780866Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=686.282µs elapsed_secs=0.000686282
2025-12-10T09:05:10.781404Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=3.07839ms elapsed_secs=0.00307839
2025-12-10T09:05:10.781805Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.354439ms elapsed_secs=0.001354439
2025-12-10T09:05:10.781918Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=481.112µs elapsed_secs=0.000481112
2025-12-10T09:05:10.782062Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=222.49µs elapsed_secs=0.00022249
2025-12-10T09:05:10.782116Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=164.793µs elapsed_secs=0.000164793
2025-12-10T09:05:10.782139Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=1.165393ms elapsed_secs=0.001165393
2025-12-10T09:05:10.782262Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=85.895µs elapsed_secs=8.5895e-5
2025-12-10T09:05:10.782907Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=813.385µs elapsed_secs=0.000813385
2025-12-10T09:05:10.783207Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.00942ms elapsed_secs=0.00100942
2025-12-10T09:05:10.783468Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=199.375µs elapsed_secs=0.000199375
2025-12-10T09:05:10.783539Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.247379ms elapsed_secs=0.001247379
2025-12-10T09:05:10.784191Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.211101ms elapsed_secs=0.001211101
2025-12-10T09:05:10.784598Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=221.885µs elapsed_secs=0.000221885
2025-12-10T09:05:10.784903Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.318088ms elapsed_secs=0.001318088
2025-12-10T09:05:10.784906Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=248.121µs elapsed_secs=0.000248121
2025-12-10T09:05:10.784980Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.482272ms elapsed_secs=0.001482272
2025-12-10T09:05:10.785122Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=166.74µs elapsed_secs=0.00016674
2025-12-10T09:05:10.785407Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=234.099µs elapsed_secs=0.000234099
2025-12-10T09:05:10.785530Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.785661Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=703.705µs elapsed_secs=0.000703705
2025-12-10T09:05:10.786164Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.116807ms elapsed_secs=0.001116807
2025-12-10T09:05:10.786592Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=261.151µs elapsed_secs=0.000261151
2025-12-10T09:05:10.786749Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.014106ms elapsed_secs=0.001014106
2025-12-10T09:05:10.786860Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=204.37µs elapsed_secs=0.00020437
2025-12-10T09:05:10.786882Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data zero2prod::startup: src/startup.rs:63: running app with email_client: EmailClient { base_url: "http://127.0.0.1:40367", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }
2025-12-10T09:05:10.786928Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data zero2prod::startup: src/startup.rs:67: running app with email_client data: Data(EmailClient { base_url: "http://127.0.0.1:40367", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T09:05:10.787059Z  WARN subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T09:05:10.787081Z  INFO                 subscriptions::subscribe_returns_a_200_for_valid_form_data actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T09:05:10.787114Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data api::helpers: tests/api/helpers.rs:111: test_app spawned with details: TestApp { address: "http://127.0.0.1:35399", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:40367 }, id: 2, metrics: Metrics { created: Instant { tv_sec: 2085, tv_nsec: 138293497 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T09:05:10.787145Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data api::subscriptions: tests/api/subscriptions.rs:12: test_app started with email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:40367 }, id: 2, metrics: Metrics { created: Instant { tv_sec: 2085, tv_nsec: 138293497 }, recycled: None, recycle_count: 0 } }) }))
2025-12-10T09:05:10.787347Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=585.286µs elapsed_secs=0.000585286
2025-12-10T09:05:10.787420Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:35399/
2025-12-10T09:05:10.787455Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:35399
2025-12-10T09:05:10.787589Z  INFO                 subscriptions::subscribe_returns_a_200_for_valid_form_data actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T09:05:10.787605Z  INFO                 subscriptions::subscribe_returns_a_200_for_valid_form_data actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:35399", workers: 22, listening on: 127.0.0.1:35399
2025-12-10T09:05:10.787693Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=787.032µs elapsed_secs=0.000787032
2025-12-10T09:05:10.787807Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=550.739µs elapsed_secs=0.000550739
2025-12-10T09:05:10.787818Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=419.138µs elapsed_secs=0.000419138
2025-12-10T09:05:10.788045Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_lock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=197.557µs elapsed_secs=0.000197557
2025-12-10T09:05:10.788153Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=1.241854ms elapsed_secs=0.001241854
2025-12-10T09:05:10.788676Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=910.715µs elapsed_secs=0.000910715
2025-12-10T09:05:10.788865Z  WARN                                           health_check::health_check_works sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T09:05:10.789105Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=915.191µs elapsed_secs=0.000915191
2025-12-10T09:05:10.789226Z  WARN subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T09:05:10.789260Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=129.783µs elapsed_secs=0.000129783
2025-12-10T09:05:10.789892Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=1.111784ms elapsed_secs=0.001111784
2025-12-10T09:05:10.790349Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.056798ms elapsed_secs=0.001056798
2025-12-10T09:05:10.790873Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=2.78697ms elapsed_secs=0.00278697
2025-12-10T09:05:10.790896Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=947.891µs elapsed_secs=0.000947891
2025-12-10T09:05:10.791122Z  WARN                                           health_check::health_check_works sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T09:05:10.791146Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=204.441µs elapsed_secs=0.000204441
2025-12-10T09:05:10.791424Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=488.358µs elapsed_secs=0.000488358
2025-12-10T09:05:10.791529Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=1.082681ms elapsed_secs=0.001082681
2025-12-10T09:05:10.791609Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE IF NOT …" db.statement="\n\n\nCREATE TABLE IF NOT EXISTS _sqlx_migrations (\n    version BIGINT PRIMARY KEY,\n    description TEXT NOT NULL,\n    installed_on TIMESTAMPTZ NOT NULL DEFAULT now(),\n    success BOOLEAN NOT NULL,\n    checksum BYTEA NOT NULL,\n    execution_time BIGINT NOT NULL\n);\n                \n" rows_affected=0 rows_returned=0 elapsed=3.754858ms elapsed_secs=0.003754858
2025-12-10T09:05:10.791682Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=218.944µs elapsed_secs=0.000218944
2025-12-10T09:05:10.791756Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=146.609µs elapsed_secs=0.000146609
2025-12-10T09:05:10.792090Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=915.856µs elapsed_secs=0.000915856
2025-12-10T09:05:10.792164Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:35399
2025-12-10T09:05:10.792364Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version FROM _sqlx_migrations …" db.statement="\n\nSELECT version FROM _sqlx_migrations WHERE success = false ORDER BY version LIMIT 1\n" rows_affected=0 rows_returned=0 elapsed=715.669µs elapsed_secs=0.000715669
2025-12-10T09:05:10.792604Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=821.058µs elapsed_secs=0.000821058
2025-12-10T09:05:10.792625Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT version, checksum FROM …" db.statement="\n\nSELECT version, checksum FROM _sqlx_migrations ORDER BY version\n" rows_affected=0 rows_returned=0 elapsed=217.063µs elapsed_secs=0.000217063
2025-12-10T09:05:10.792815Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.01868ms elapsed_secs=0.00101868
2025-12-10T09:05:10.793276Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=1.070315ms elapsed_secs=0.001070315
2025-12-10T09:05:10.793322Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=439.808µs elapsed_secs=0.000439808
2025-12-10T09:05:10.793445Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=791.27µs elapsed_secs=0.00079127
2025-12-10T09:05:10.793469Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=139.891µs elapsed_secs=0.000139891
2025-12-10T09:05:10.793632Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=133.64µs elapsed_secs=0.00013364
2025-12-10T09:05:10.793973Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=285.016µs elapsed_secs=0.000285016
2025-12-10T09:05:10.794109Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=738.873µs elapsed_secs=0.000738873
2025-12-10T09:05:10.794144Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.794597Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid zero2prod::startup: src/startup.rs:63: running app with email_client: EmailClient { base_url: "http://127.0.0.1:38151", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }
2025-12-10T09:05:10.794628Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.11029ms elapsed_secs=0.00111029
2025-12-10T09:05:10.794625Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="-- Add migration script …" db.statement="\n\n-- Add migration script here\n\n-- Create Subscriptions Table\n-- gen_random_uuid should be replaced with uuidv7 for Postgres 18+,\nCREATE TABLE subscriptions(\nid uuid NOT NULL DEFAULT gen_random_uuid(),\nPRIMARY KEY (id),\nemail TEXT NOT NULL UNIQUE,\nname TEXT NOT NULL,\nsubscribed_at timestamptz NOT NULL\n);\n" rows_affected=0 rows_returned=0 elapsed=1.834943ms elapsed_secs=0.001834943
2025-12-10T09:05:10.794643Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid zero2prod::startup: src/startup.rs:67: running app with email_client data: Data(EmailClient { base_url: "http://127.0.0.1:38151", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T09:05:10.794920Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=224.536µs elapsed_secs=0.000224536
2025-12-10T09:05:10.795210Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.039217ms elapsed_secs=0.001039217
2025-12-10T09:05:10.795569Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=217.728µs elapsed_secs=0.000217728
2025-12-10T09:05:10.795643Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=690.521µs elapsed_secs=0.000690521
2025-12-10T09:05:10.795659Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=991.498µs elapsed_secs=0.000991498
2025-12-10T09:05:10.795763Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=141.025µs elapsed_secs=0.000141025
2025-12-10T09:05:10.795774Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=82.692µs elapsed_secs=8.2692e-5
2025-12-10T09:05:10.796157Z DEBUG                                           health_check::health_check_works sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=345.839µs elapsed_secs=0.000345839
2025-12-10T09:05:10.796314Z DEBUG                                           health_check::health_check_works sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.796450Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=631.524µs elapsed_secs=0.000631524
2025-12-10T09:05:10.796632Z DEBUG                                           health_check::health_check_works zero2prod::startup: src/startup.rs:63: running app with email_client: EmailClient { base_url: "http://127.0.0.1:39251", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }
2025-12-10T09:05:10.796664Z DEBUG                                           health_check::health_check_works zero2prod::startup: src/startup.rs:67: running app with email_client data: Data(EmailClient { base_url: "http://127.0.0.1:39251", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T09:05:10.796939Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.233645ms elapsed_secs=0.001233645
2025-12-10T09:05:10.797144Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="ALTER TABLE subscriptions ADD …" db.statement="\n\nALTER TABLE subscriptions ADD COLUMN status TEXT NULL;\n" rows_affected=0 rows_returned=0 elapsed=120.984µs elapsed_secs=0.000120984
2025-12-10T09:05:10.797258Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=84.552µs elapsed_secs=8.4552e-5
2025-12-10T09:05:10.797436Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=931.746µs elapsed_secs=0.000931746
2025-12-10T09:05:10.797586Z  WARN         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T09:05:10.797916Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=635.075µs elapsed_secs=0.000635075
2025-12-10T09:05:10.798413Z  INFO                                           health_check::health_check_works actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T09:05:10.798456Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=923.163µs elapsed_secs=0.000923163
2025-12-10T09:05:10.798465Z DEBUG                                           health_check::health_check_works api::helpers: tests/api/helpers.rs:111: test_app spawned with details: TestApp { address: "http://127.0.0.1:45301", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:39251 }, id: 4, metrics: Metrics { created: Instant { tv_sec: 2085, tv_nsec: 138294348 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T09:05:10.798792Z DEBUG                                           health_check::health_check_works reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:45301/
2025-12-10T09:05:10.798844Z DEBUG                                           health_check::health_check_works hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:45301
2025-12-10T09:05:10.798958Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=1.006524ms elapsed_secs=0.001006524
2025-12-10T09:05:10.799084Z  WARN                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is already a transaction in progress
2025-12-10T09:05:10.799411Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=913.5µs elapsed_secs=0.0009135
2025-12-10T09:05:10.799529Z  WARN         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T09:05:10.799553Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=98.63µs elapsed_secs=9.863e-5
2025-12-10T09:05:10.799952Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="BEGIN; -- Backfill `status` …" db.statement="\n\nBEGIN;\n    -- Backfill `status` for historical entries\n    UPDATE subscriptions\n    SET status = 'confirmed'\n    WHERE status IS NULL;\n    -- Make `status` mandatory\n    ALTER TABLE subscriptions ALTER COLUMN status SET NOT NULL;\nCOMMIT;\n" rows_affected=0 rows_returned=0 elapsed=906.889µs elapsed_secs=0.000906889
2025-12-10T09:05:10.800371Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=785.341µs elapsed_secs=0.000785341
2025-12-10T09:05:10.800897Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=910.732µs elapsed_secs=0.000910732
2025-12-10T09:05:10.801043Z  WARN                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::postgres::notice: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/connection/stream.rs:185: there is no transaction in progress
2025-12-10T09:05:10.801066Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=145.137µs elapsed_secs=0.000145137
2025-12-10T09:05:10.801467Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=1.007046ms elapsed_secs=0.001007046
2025-12-10T09:05:10.801619Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=101.327µs elapsed_secs=0.000101327
2025-12-10T09:05:10.801766Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=667.239µs elapsed_secs=0.000667239
2025-12-10T09:05:10.802834Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="CREATE TABLE subscription_tokens( subscription_token …" db.statement="\n\nCREATE TABLE subscription_tokens(\n    subscription_token TEXT NOT NULL,\n    subscriber_id uuid NOT NULL\n        REFERENCES subscriptions (id),\n    PRIMARY KEY (subscription_token)\n);\n\n" rows_affected=0 rows_returned=0 elapsed=991.381µs elapsed_secs=0.000991381
2025-12-10T09:05:10.802854Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.207177ms elapsed_secs=0.001207177
2025-12-10T09:05:10.802967Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO _sqlx_migrations ( …" db.statement="\n\n\n    INSERT INTO _sqlx_migrations ( version, description, success, checksum, execution_time )\n    VALUES ( $1, $2, TRUE, $3, -1 )\n                \n" rows_affected=1 rows_returned=0 elapsed=84.182µs elapsed_secs=8.4182e-5
2025-12-10T09:05:10.803655Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=745.486µs elapsed_secs=0.000745486
2025-12-10T09:05:10.803752Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=58.73µs elapsed_secs=5.873e-5
2025-12-10T09:05:10.803925Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=146.181µs elapsed_secs=0.000146181
2025-12-10T09:05:10.804009Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.804146Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="COMMIT" db.statement="" rows_affected=0 rows_returned=0 elapsed=1.153431ms elapsed_secs=0.001153431
2025-12-10T09:05:10.804196Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data zero2prod::startup: src/startup.rs:63: running app with email_client: EmailClient { base_url: "http://127.0.0.1:43487", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }
2025-12-10T09:05:10.804221Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data zero2prod::startup: src/startup.rs:67: running app with email_client data: Data(EmailClient { base_url: "http://127.0.0.1:43487", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T09:05:10.804810Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="UPDATE _sqlx_migrations SET execution_time …" db.statement="\n\n\n    UPDATE _sqlx_migrations\n    SET execution_time = $1\n    WHERE version = $2\n                \n" rows_affected=1 rows_returned=0 elapsed=613.845µs elapsed_secs=0.000613845
2025-12-10T09:05:10.804925Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT current_database()" db.statement="" rows_affected=1 rows_returned=1 elapsed=68.659µs elapsed_secs=6.8659e-5
2025-12-10T09:05:10.805105Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT pg_advisory_unlock($1)" db.statement="" rows_affected=1 rows_returned=1 elapsed=147.86µs elapsed_secs=0.00014786
2025-12-10T09:05:10.805184Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing sqlx_postgres::options::pgpass: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-postgres-0.8.6/src/options/pgpass.rs:48: `.pgpass` file not found path=/home/radivis/.pgpass
2025-12-10T09:05:10.805366Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing zero2prod::startup: src/startup.rs:63: running app with email_client: EmailClient { base_url: "http://127.0.0.1:40967", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }
2025-12-10T09:05:10.805390Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing zero2prod::startup: src/startup.rs:67: running app with email_client data: Data(EmailClient { base_url: "http://127.0.0.1:40967", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T09:05:10.808350Z  INFO                subscriptions::subscribe_returns_a_400_when_data_is_missing actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T09:05:10.808349Z  INFO subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T09:05:10.808358Z  INFO         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data actix_server::builder: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs:310: starting 22 workers
2025-12-10T09:05:10.808380Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data api::helpers: tests/api/helpers.rs:111: test_app spawned with details: TestApp { address: "http://127.0.0.1:38517", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:43487 }, id: 1, metrics: Metrics { created: Instant { tv_sec: 2085, tv_nsec: 138288559 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T09:05:10.808378Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing api::helpers: tests/api/helpers.rs:111: test_app spawned with details: TestApp { address: "http://127.0.0.1:38271", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:40967 }, id: 0, metrics: Metrics { created: Instant { tv_sec: 2085, tv_nsec: 138253583 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T09:05:10.808405Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing api::subscriptions: tests/api/subscriptions.rs:47: test_app started with email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:40967 }, id: 0, metrics: Metrics { created: Instant { tv_sec: 2085, tv_nsec: 138253583 }, recycled: None, recycle_count: 0 } }) }))
2025-12-10T09:05:10.808384Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid api::helpers: tests/api/helpers.rs:111: test_app spawned with details: TestApp { address: "http://127.0.0.1:42109", connection_pool: Pool { size: 1, num_idle: 0, is_closed: false, options: PoolOptions { max_connections: 10, min_connections: 0, connect_timeout: 30s, max_lifetime: Some(1800s), idle_timeout: Some(600s), test_before_acquire: true } }, email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:38151 }, id: 3, metrics: Metrics { created: Instant { tv_sec: 2085, tv_nsec: 138293530 }, recycled: None, recycle_count: 0 } }) })) }
2025-12-10T09:05:10.808406Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data api::subscriptions: tests/api/subscriptions.rs:104: test_app started with email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:43487 }, id: 1, metrics: Metrics { created: Instant { tv_sec: 2085, tv_nsec: 138288559 }, recycled: None, recycle_count: 0 } }) }))
2025-12-10T09:05:10.808426Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid api::subscriptions: tests/api/subscriptions.rs:75: test_app started with email_server: MockServer(Pooled(Object { inner: Some(ObjectInner { obj: BareMockServer { address: 127.0.0.1:38151 }, id: 3, metrics: Metrics { created: Instant { tv_sec: 2085, tv_nsec: 138293530 }, recycled: None, recycle_count: 0 } }) }))
2025-12-10T09:05:10.808446Z  INFO                                           health_check::health_check_works actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T09:05:10.808475Z  INFO                                           health_check::health_check_works actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:45301", workers: 22, listening on: 127.0.0.1:45301
2025-12-10T09:05:10.808579Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:38271/
2025-12-10T09:05:10.808579Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:38517/
2025-12-10T09:05:10.808608Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:38517
2025-12-10T09:05:10.808608Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:38271
2025-12-10T09:05:10.808671Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:42109/
2025-12-10T09:05:10.808708Z  INFO                subscriptions::subscribe_returns_a_400_when_data_is_missing actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T09:05:10.808708Z  INFO         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T09:05:10.808721Z  INFO         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:38517", workers: 22, listening on: 127.0.0.1:38517
2025-12-10T09:05:10.808721Z  INFO                subscriptions::subscribe_returns_a_400_when_data_is_missing actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:38271", workers: 22, listening on: 127.0.0.1:38271
2025-12-10T09:05:10.808716Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:42109
2025-12-10T09:05:10.808718Z  INFO                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:35399 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=e2eb4b30-0e53-4b71-856a-6ea1dd6b6ec1}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:40367", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T09:05:10.808877Z  INFO subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:192: Tokio runtime found; starting in existing Tokio runtime
2025-12-10T09:05:10.808900Z  INFO subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid actix_server::server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs:197: starting service: "actix-web-service-127.0.0.1:42109", workers: 22, listening on: 127.0.0.1:42109
2025-12-10T09:05:10.812403Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:38271
2025-12-10T09:05:10.812790Z DEBUG                                           health_check::health_check_works hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:45301
2025-12-10T09:05:10.813596Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:38517
2025-12-10T09:05:10.814088Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:42109
2025-12-10T09:05:10.819743Z  INFO                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:38517 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=c5a2711e-2863-4962-87fb-2bb9e21a689f}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:43487", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T09:05:10.819907Z  WARN                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:38271 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=ee8d0bf0-15c8-44e7-a911-eb0a8ecf3d68 exception.message=Parse error: missing field `email`. exception.details=Parse(Error("missing field `email`")) http.status_code=400 otel.status_code="OK"}: tracing_actix_web::middleware: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.19/src/middleware.rs:256: Error encountered while processing the incoming HTTP request: Parse(Error("missing field `email`"))
2025-12-10T09:05:10.819966Z  INFO                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:42109 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=d4d65768-50b4-414d-a352-0a0aa4e25707}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:38151", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T09:05:10.820126Z DEBUG                                           health_check::health_check_works hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:45301)
2025-12-10T09:05:10.820136Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:42109)
2025-12-10T09:05:10.820165Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:38271)
2025-12-10T09:05:10.820282Z DEBUG                                           health_check::health_check_works wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
2025-12-10T09:05:10.820358Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:42109/
2025-12-10T09:05:10.820387Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:42109
2025-12-10T09:05:10.820479Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:38271/
2025-12-10T09:05:10.820512Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:42109
2025-12-10T09:05:10.820522Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:38271
2025-12-10T09:05:10.820725Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:38271
2025-12-10T09:05:10.820827Z  INFO                                                      actix-server worker 1 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:42109 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=67be3344-3360-4f48-8417-929a613f9eb1}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:38151", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email= subscriber_name=Ursula}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T09:05:10.820966Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:42109)
2025-12-10T09:05:10.821135Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:42109/
2025-12-10T09:05:10.821162Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:42109
2025-12-10T09:05:10.821186Z  WARN                                                      actix-server worker 1 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:38271 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=008639db-1791-41ae-9abe-a790213404ec exception.message=Parse error: missing field `name`. exception.details=Parse(Error("missing field `name`")) http.status_code=400 otel.status_code="OK"}: tracing_actix_web::middleware: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.19/src/middleware.rs:256: Error encountered while processing the incoming HTTP request: Parse(Error("missing field `name`"))
2025-12-10T09:05:10.821283Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:42109
2025-12-10T09:05:10.821426Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:38271)
2025-12-10T09:05:10.821597Z  INFO                                                      actix-server worker 2 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:42109 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=0c220c98-a74f-45d2-80d0-ea75e28748aa}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:38151", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=definitely-not-an-email subscriber_name=Ursula}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:45: Calling subscribe
2025-12-10T09:05:10.821688Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:38271/
2025-12-10T09:05:10.821726Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:38271
2025-12-10T09:05:10.821754Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:42109)
2025-12-10T09:05:10.821864Z DEBUG subscriptions::subscribe_returns_a_400_when_fields_are_present_but_invalid wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
2025-12-10T09:05:10.821894Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:38271
2025-12-10T09:05:10.822306Z  WARN                                                      actix-server worker 2 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:38271 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=d95ee939-5d98-4d88-acfd-05dee68b8ea7 exception.message=Parse error: missing field `email`. exception.details=Parse(Error("missing field `email`")) http.status_code=400 otel.status_code="OK"}: tracing_actix_web::middleware: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.19/src/middleware.rs:256: Error encountered while processing the incoming HTTP request: Parse(Error("missing field `email`"))
2025-12-10T09:05:10.822526Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:38271)
2025-12-10T09:05:10.822699Z DEBUG                subscriptions::subscribe_returns_a_400_when_data_is_missing wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
2025-12-10T09:05:10.836505Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:35399 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=e2eb4b30-0e53-4b71-856a-6ea1dd6b6ec1}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:40367", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}:Saving new subscriber details in the database: sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO subscriptions (id, …" db.statement="\n\n\n        INSERT INTO subscriptions (id, email, name, subscribed_at, status)\n        VALUES ($1, $2, $3, $4, 'confirmed')\n        \n" rows_affected=1 rows_returned=0 elapsed=3.343861ms elapsed_secs=0.003343861
2025-12-10T09:05:10.836607Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:35399 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=e2eb4b30-0e53-4b71-856a-6ea1dd6b6ec1}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:40367", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:58: Trying to send email to subscriber via email_client: Data(EmailClient { base_url: "http://127.0.0.1:40367", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T09:05:10.836912Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:35399 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=e2eb4b30-0e53-4b71-856a-6ea1dd6b6ec1}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:40367", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}:Sending email{self=EmailClient { base_url: "http://127.0.0.1:40367", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) } data=EmailData { recipient: SubscriberEmailAddress("ursula_le_guin@gmail.com"), subject: "Welcome!", html_content: "Welcome to our newsletter!", text_content: "Welcome to our newsletter!" }}: reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:40367/
2025-12-10T09:05:10.836976Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:35399 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=e2eb4b30-0e53-4b71-856a-6ea1dd6b6ec1}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:40367", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}:Sending email{self=EmailClient { base_url: "http://127.0.0.1:40367", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) } data=EmailData { recipient: SubscriberEmailAddress("ursula_le_guin@gmail.com"), subject: "Welcome!", html_content: "Welcome to our newsletter!", text_content: "Welcome to our newsletter!" }}: hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:40367
2025-12-10T09:05:10.837142Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:35399 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=e2eb4b30-0e53-4b71-856a-6ea1dd6b6ec1}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:40367", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}:Sending email{self=EmailClient { base_url: "http://127.0.0.1:40367", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) } data=EmailData { recipient: SubscriberEmailAddress("ursula_le_guin@gmail.com"), subject: "Welcome!", html_content: "Welcome to our newsletter!", text_content: "Welcome to our newsletter!" }}: hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:40367
2025-12-10T09:05:10.837532Z DEBUG ThreadId(12) wiremock::mock_set: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_set.rs:61: Handling request.
2025-12-10T09:05:10.837705Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:35399 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=e2eb4b30-0e53-4b71-856a-6ea1dd6b6ec1}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:40367", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}:Sending email{self=EmailClient { base_url: "http://127.0.0.1:40367", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) } data=EmailData { recipient: SubscriberEmailAddress("ursula_le_guin@gmail.com"), subject: "Welcome!", html_content: "Welcome to our newsletter!", text_content: "Welcome to our newsletter!" }}: hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:40367)
2025-12-10T09:05:10.838011Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:35399)
2025-12-10T09:05:10.838573Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="SELECT email, name FROM …" db.statement="\n\nSELECT email, name FROM subscriptions\n" rows_affected=1 rows_returned=1 elapsed=321.137µs elapsed_secs=0.000321137
2025-12-10T09:05:10.838623Z DEBUG                 subscriptions::subscribe_returns_a_200_for_valid_form_data wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
2025-12-10T09:05:10.861619Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:38517 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=c5a2711e-2863-4962-87fb-2bb9e21a689f}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:43487", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}:Saving new subscriber details in the database: sqlx::query: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/sqlx-core-0.8.6/src/logger.rs:143: summary="INSERT INTO subscriptions (id, …" db.statement="\n\n\n        INSERT INTO subscriptions (id, email, name, subscribed_at, status)\n        VALUES ($1, $2, $3, $4, 'confirmed')\n        \n" rows_affected=1 rows_returned=0 elapsed=2.961019ms elapsed_secs=0.002961019
2025-12-10T09:05:10.861678Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:38517 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=c5a2711e-2863-4962-87fb-2bb9e21a689f}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:43487", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}: zero2prod::routes::subscriptions: src/routes/subscriptions.rs:58: Trying to send email to subscriber via email_client: Data(EmailClient { base_url: "http://127.0.0.1:43487", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) })
2025-12-10T09:05:10.861858Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:38517 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=c5a2711e-2863-4962-87fb-2bb9e21a689f}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:43487", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}:Sending email{self=EmailClient { base_url: "http://127.0.0.1:43487", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) } data=EmailData { recipient: SubscriberEmailAddress("ursula_le_guin@gmail.com"), subject: "Welcome!", html_content: "Welcome to our newsletter!", text_content: "Welcome to our newsletter!" }}: reqwest::connect: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/reqwest-0.12.24/src/connect.rs:882: starting new connection: http://127.0.0.1:43487/
2025-12-10T09:05:10.861899Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:38517 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=c5a2711e-2863-4962-87fb-2bb9e21a689f}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:43487", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}:Sending email{self=EmailClient { base_url: "http://127.0.0.1:43487", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) } data=EmailData { recipient: SubscriberEmailAddress("ursula_le_guin@gmail.com"), subject: "Welcome!", html_content: "Welcome to our newsletter!", text_content: "Welcome to our newsletter!" }}: hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:768: connecting to 127.0.0.1:43487
2025-12-10T09:05:10.862031Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:38517 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=c5a2711e-2863-4962-87fb-2bb9e21a689f}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:43487", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}:Sending email{self=EmailClient { base_url: "http://127.0.0.1:43487", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) } data=EmailData { recipient: SubscriberEmailAddress("ursula_le_guin@gmail.com"), subject: "Welcome!", html_content: "Welcome to our newsletter!", text_content: "Welcome to our newsletter!" }}: hyper_util::client::legacy::connect::http: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/connect/http.rs:771: connected to 127.0.0.1:43487
2025-12-10T09:05:10.862330Z DEBUG ThreadId(11) wiremock::mock_set: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_set.rs:61: Handling request.
2025-12-10T09:05:10.862469Z DEBUG                                                      actix-server worker 0 HTTP request{http.method=POST http.route=/subscriptions http.flavor=1.1 http.scheme=http http.host=127.0.0.1:38517 http.client_ip=127.0.0.1 http.user_agent= http.target=/subscriptions otel.name=POST /subscriptions otel.kind="server" request_id=c5a2711e-2863-4962-87fb-2bb9e21a689f}:Adding a new subscriber{email_client=Data(EmailClient { base_url: "http://127.0.0.1:43487", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) }) subscriber_email=ursula_le_guin@gmail.com subscriber_name=le guin}:Sending email{self=EmailClient { base_url: "http://127.0.0.1:43487", http_client: Client { accepts: Accepts, proxies: [Matcher], referer: true, default_headers: {"accept": "*/*"}, reqwest::config::TotalTimeout: 10s }, sender: SubscriberEmailAddress("test@gmail.com"), authorization_token: Secret([REDACTED alloc::string::String]) } data=EmailData { recipient: SubscriberEmailAddress("ursula_le_guin@gmail.com"), subject: "Welcome!", html_content: "Welcome to our newsletter!", text_content: "Welcome to our newsletter!" }}: hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:43487)
2025-12-10T09:05:10.862784Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data hyper_util::client::legacy::pool: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/hyper-util-0.1.19/src/client/legacy/pool.rs:402: pooling idle connection for ("http", 127.0.0.1:38517)
2025-12-10T09:05:10.863052Z DEBUG         subscriptions::subscribe_sends_a_confirmation_email_for_valid_data wiremock::mock_server::exposed_server: /home/radivis/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/wiremock-0.6.5/src/mock_server/exposed_server.rs:335: Verify mock expectations.
